<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}GALAXY FOOD{% endblock %}</title>
  <style>
    :root {
      --gold:       #C7A24C;
      --gold-dark:  #9E7B2F;
      --brown:      #2B1E14;
      --cream:      #FAF6EF;
      --cream-dark: #F0E8D8;
      --white:      #FFFFFF;
      --green:      #4CAF50;
      --red:        #E53935;
      --blue:       #1976D2;
      --shadow:     0 2px 12px rgba(43,30,20,0.13);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: var(--cream);
      color: var(--brown);
      min-height: 100vh;
    }

    /* ‚îÄ‚îÄ –®–∞–ø–∫–∞ ‚îÄ‚îÄ */
    header {
      background: var(--brown);
      padding: 0 24px;
      display: flex;
      align-items: center;
      gap: 16px;
      height: 64px;
      box-shadow: var(--shadow);
    }
    .logo-arc {
      font-size: 22px;
      font-weight: 900;
      color: var(--gold);
      letter-spacing: 2px;
      text-transform: uppercase;
    }
    .logo-sub {
      font-size: 11px;
      color: var(--gold-dark);
      letter-spacing: 3px;
      text-transform: uppercase;
    }
    .logo-wrap { display: flex; flex-direction: column; justify-content: center; }

    /* ‚îÄ‚îÄ –ù–∞–≤–∏–≥–∞—Ü–∏—è ‚îÄ‚îÄ */
    nav {
      background: var(--gold-dark);
      display: flex;
      gap: 2px;
      padding: 0 16px;
      overflow-x: auto;
    }
    nav a {
      color: var(--cream);
      text-decoration: none;
      padding: 14px 20px;
      font-size: 15px;
      font-weight: 600;
      white-space: nowrap;
      border-bottom: 3px solid transparent;
      transition: background 0.15s, border-color 0.15s;
    }
    nav a:hover { background: rgba(255,255,255,0.12); }
    nav a.active {
      border-bottom-color: var(--gold);
      color: var(--white);
      background: rgba(255,255,255,0.08);
    }

    /* ‚îÄ‚îÄ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç ‚îÄ‚îÄ */
    main { max-width: 1100px; margin: 0 auto; padding: 28px 20px 60px; }

    h1 { font-size: 26px; color: var(--brown); margin-bottom: 20px; }
    h2 { font-size: 20px; color: var(--gold-dark); margin-bottom: 14px; }

    /* ‚îÄ‚îÄ –ö–∞—Ä—Ç–æ—á–∫–∏ ‚îÄ‚îÄ */
    .cards { display: flex; gap: 16px; flex-wrap: wrap; margin-bottom: 28px; }
    .card {
      background: var(--white);
      border-radius: 14px;
      padding: 20px 24px;
      box-shadow: var(--shadow);
      flex: 1;
      min-width: 180px;
    }
    .card-label { font-size: 13px; color: var(--gold-dark); font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }
    .card-value { font-size: 32px; font-weight: 800; color: var(--brown); margin-top: 6px; }
    .card-sub { font-size: 13px; color: #888; margin-top: 4px; }

    /* ‚îÄ‚îÄ –¢–∞–±–ª–∏—Ü—ã ‚îÄ‚îÄ */
    .table-wrap { background: var(--white); border-radius: 14px; box-shadow: var(--shadow); overflow: hidden; margin-bottom: 24px; }
    table { width: 100%; border-collapse: collapse; }
    thead { background: var(--brown); color: var(--gold); }
    thead th { padding: 13px 16px; text-align: left; font-size: 13px; font-weight: 700; letter-spacing: 0.5px; }
    tbody tr { border-bottom: 1px solid var(--cream-dark); transition: background 0.1s; }
    tbody tr:last-child { border-bottom: none; }
    tbody tr:hover { background: var(--cream); }
    tbody td { padding: 12px 16px; font-size: 15px; }

    /* ‚îÄ‚îÄ –ö–Ω–æ–ø–∫–∏ ‚îÄ‚îÄ */
    .btn {
      display: inline-flex; align-items: center; gap: 7px;
      padding: 10px 20px; border-radius: 9px; border: none;
      font-size: 15px; font-weight: 700; cursor: pointer;
      text-decoration: none; transition: opacity 0.15s, transform 0.1s;
    }
    .btn:active { transform: scale(0.97); }
    .btn:hover { opacity: 0.88; }
    .btn-gold    { background: var(--gold); color: var(--brown); }
    .btn-brown   { background: var(--brown); color: var(--gold); }
    .btn-green   { background: var(--green); color: #fff; }
    .btn-red     { background: var(--red); color: #fff; }
    .btn-sm      { padding: 6px 14px; font-size: 13px; border-radius: 7px; }
    .btn-block   { width: 100%; justify-content: center; padding: 14px; font-size: 17px; }

    /* ‚îÄ‚îÄ –§–æ—Ä–º—ã ‚îÄ‚îÄ */
    .form-box {
      background: var(--white); border-radius: 14px;
      box-shadow: var(--shadow); padding: 24px 28px; margin-bottom: 24px;
    }
    .form-row { display: flex; gap: 14px; flex-wrap: wrap; margin-bottom: 14px; }
    .form-group { display: flex; flex-direction: column; gap: 5px; flex: 1; min-width: 160px; }
    label { font-size: 13px; font-weight: 700; color: var(--gold-dark); text-transform: uppercase; letter-spacing: 0.5px; }
    input, select, textarea {
      padding: 10px 13px; border: 2px solid var(--cream-dark);
      border-radius: 8px; font-size: 15px; color: var(--brown);
      background: var(--cream); outline: none; transition: border-color 0.15s;
      font-family: inherit;
    }
    input:focus, select:focus, textarea:focus { border-color: var(--gold); background: var(--white); }

    /* ‚îÄ‚îÄ –§–ª–µ—à-—Å–æ–æ–±—â–µ–Ω–∏—è ‚îÄ‚îÄ */
    .flashes { margin-bottom: 20px; display: flex; flex-direction: column; gap: 8px; }
    .flash {
      padding: 13px 18px; border-radius: 10px; font-size: 15px; font-weight: 600;
      display: flex; align-items: center; gap: 10px;
    }
    .flash.success { background: #E8F5E9; color: #2E7D32; border-left: 5px solid var(--green); }
    .flash.info    { background: #E3F2FD; color: #1565C0; border-left: 5px solid var(--blue); }
    .flash.warning { background: #FFF8E1; color: #E65100; border-left: 5px solid var(--gold); }
    .flash.danger  { background: #FFEBEE; color: #B71C1C; border-left: 5px solid var(--red); }

    /* ‚îÄ‚îÄ –ë–µ–π–¥–∂–∏ ‚îÄ‚îÄ */
    .badge {
      display: inline-block; padding: 3px 10px; border-radius: 20px;
      font-size: 12px; font-weight: 700; text-transform: uppercase;
    }
    .badge-free   { background: #E8F5E9; color: #2E7D32; }
    .badge-paid   { background: var(--cream-dark); color: var(--brown); }
    .badge-warn   { background: #FFF8E1; color: #E65100; }
    .badge-gold   { background: var(--gold); color: var(--brown); }

    /* ‚îÄ‚îÄ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≤—Ç—Ä–∞–∫–æ–≤ ‚îÄ‚îÄ */
    .progress-wrap { background: var(--cream-dark); border-radius: 20px; height: 10px; margin-top: 6px; overflow: hidden; }
    .progress-bar  { height: 100%; border-radius: 20px; background: var(--gold); transition: width 0.3s; }

    /* ‚îÄ‚îÄ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ‚îÄ‚îÄ */
    .modal-bg {
      display: none; position: fixed; inset: 0;
      background: rgba(43,30,20,0.55); z-index: 100;
      align-items: center; justify-content: center;
    }
    .modal-bg.open { display: flex; }
    .modal {
      background: var(--white); border-radius: 18px;
      padding: 32px 36px; max-width: 460px; width: 90%;
      box-shadow: 0 8px 40px rgba(43,30,20,0.25);
    }
    .modal h2 { margin-bottom: 20px; }
    .modal-close { float: right; cursor: pointer; font-size: 22px; color: #aaa; line-height: 1; }
    .modal-close:hover { color: var(--red); }

    /* ‚îÄ‚îÄ –£—Ç–∏–ª–∏—Ç—ã ‚îÄ‚îÄ */
    .text-right { text-align: right; }
    .text-gold  { color: var(--gold-dark); font-weight: 700; }
    .mt-16 { margin-top: 16px; }
    .flex-between { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px; }
    .section-title { font-size: 18px; font-weight: 800; color: var(--brown); margin-bottom: 14px; padding-bottom: 8px; border-bottom: 2px solid var(--cream-dark); }

    @media (max-width: 600px) {
      nav a { padding: 12px 14px; font-size: 14px; }
      .card-value { font-size: 24px; }
      main { padding: 16px 12px 40px; }
    }
  </style>
</head>
<body>

<header>
  <div class="logo-wrap">
    <div class="logo-arc">Galaxy Food</div>
    <div class="logo-sub">Turkmen Cuisine</div>
  </div>
</header>

<nav>
  <a href="{{ url_for('index') }}"      class="{{ 'active' if request.endpoint == 'index' }}">üè† –ì–ª–∞–≤–Ω–∞—è</a>
  <a href="{{ url_for('breakfasts') }}" class="{{ 'active' if 'breakfast' in request.endpoint or request.endpoint == 'breakfasts' }}">‚òï –ó–∞–≤—Ç—Ä–∞–∫–∏</a>
  <a href="{{ url_for('sales') }}"      class="{{ 'active' if request.endpoint == 'sales' }}">üßæ –ü—Ä–æ–¥–∞–∂–∏</a>
  <a href="{{ url_for('dishes') }}"     class="{{ 'active' if request.endpoint == 'dishes' }}">üçΩ –ë–ª—é–¥–∞</a>
  <a href="{{ url_for('expenses') }}"   class="{{ 'active' if request.endpoint == 'expenses' }}">üí∏ –†–∞—Å—Ö–æ–¥—ã</a>
  <a href="{{ url_for('report') }}"     class="{{ 'active' if request.endpoint == 'report' }}">üìä –û—Ç—á—ë—Ç</a>
</nav>

<main>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flashes">
        {% for cat, msg in messages %}
          <div class="flash {{ cat }}">{{ msg }}</div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  {% block content %}{% endblock %}
</main>

<script>
  function openModal(id) { document.getElementById(id).classList.add('open'); }
  function closeModal(id) { document.getElementById(id).classList.remove('open'); }
  document.querySelectorAll('.modal-bg').forEach(m => {
    m.addEventListener('click', e => { if (e.target === m) m.classList.remove('open'); });
  });
</script>

</body>
</html>
